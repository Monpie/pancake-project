{% extends 'PancakeBundle::layout.html.twig' %}

{% block body %}
    <h2>Créer un compte</h2>

    <div class="row">
        <div class="col"></div>

        <div class="well col-5">
            {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

            {# Les erreurs générales du formulaire. #}
            {% if form_errors(form) or form_errors(form.plainPassword.first) or form_errors(form.plainPassword.second) %}
                <div class="alert alert-danger" role="alert">
                    {{ form_errors(form) }}
                    {{ form_errors(form.plainPassword.first) }}
                    {{ form_errors(form.plainPassword.second) }}
                </div>
            {% endif %}

            <div class="form-group">
                {{ form_label(form.name, "Prénom", {'label_attr': {'class': 'control-label'}}) }}

                {{ form_widget(form.name, {'attr': {'class': 'form-control', 'placeholder': 'Prénom'}}) }}
            </div>

            <div class="form-group">
                {{ form_label(form.last_name, "Nom", {'label_attr': {'class': 'control-label'}}) }}

                {{ form_widget(form.last_name, {'attr': {'class': 'form-control', 'placeholder': 'Nom'}}) }}
            </div>

            <div class="form-group">
                {{ form_label(form.email, "Email", {'label_attr': {'class': 'control-label'}}) }}

                {{ form_widget(form.email, {'attr': {'class': 'form-control', 'placeholder': 'Email'}}) }}
            </div>

            <div class="form-group">
                {{ form_label(form.phone, "Numéro de téléphone", {'label_attr': {'class': 'control-label'}}) }}

                {{ form_widget(form.phone, {'attr': {'class': 'form-control', 'pattern': '^(?:0|\(?\+33\)?\s?|0033\s?)[1-79](?:[\.\-\s]?\d\d){4}$', 'placeholder': 'Numéro de téléphone'}}) }}
            </div>

            <div class="form-group">
                {{ form_label(form.plainPassword.first, "Mot de passe", {'label_attr': {'class': 'control-label'}}) }}

                {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control', 'pattern': '(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$', 'placeholder': 'Entrer un mot de passe'}}) }}

                <small class="form-text text-muted">Votre mot de passe doit posséder un minimum de 8 caractères avec chiffres, majuscules et minuscules.</small>
            </div>

            <div class="form-group">
                {{ form_label(form.plainPassword.second, "Confirmation du mot de passe", {'label_attr': {'class': 'control-label'}}) }}

                {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control', 'pattern': '(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$', 'placeholder': 'Confirmer votre mot de passe'}}) }}
            </div>

            {{ form_widget(form.save, {'attr': {'class': 'btn btn-primary'}}) }}

            {{ form_end(form) }}
        </div>

        <div class="col"></div>
    </div>
{% endblock %}